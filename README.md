A one-step script to convert GTH pseudopotential to ".upf" format using [CP2K's ATOM module](https://manual.cp2k.org/trunk/CP2K_INPUT/ATOM.html).

Numerical orbitals in ".orb" format for ABACUS can also generated by calling [gaussian_orbital_for_ABACUS](https://github.com/fisherd99/gaussian_orbital_for_ABACUS).

### Usage

1. Prepare a json file "input.json" containing the following infomation: (`cp2k_path` should be the path containing "exe" and "data" directory)
    ```json
    {
        "cp2k_path": "/home/pkgs/cp2k", 
        "element": "C",
        "xc": "PBE",
        "valence": 4,
        "prefix": "C-GTH-PBE",
        "grid_points": 500,
        "quadrature": "cpmd2upf_default"
    }
    ```
    #### Parameters (Default)
    - "quadrature" (`gc_log`): `gc_log` | `gc_simple` | `gc_transformed` | `cpmd2upf_default`
    Algorithm to construct the atomic radial grids. 
      - The first three are supported in CP2K (see [CP2Kdoc-QUADRATURE](https://manual.cp2k.org/cp2k-2024_2-branch/CP2K_INPUT/ATOM/PP_BASIS.html#CP2K_INPUT.ATOM.PP_BASIS.QUADRATURE)).
      - `cpmd2upf_default`: Replace the atomic radial grid to the same as the default grid used in [cpmd2upf](https://gitlab.com/QEF/q-e/-/blob/acda94607231edbb003fa7ddfc4e9ff1f69ce957/upftools/cpmd2upf.f90#L313).
    - "grid_points" (`400`): Number of radial grid points. The same as [GRID_POINTS](https://manual.cp2k.org/cp2k-2024_2-branch/CP2K_INPUT/ATOM/PP_BASIS.html#CP2K_INPUT.ATOM.PP_BASIS.GRID_POINTS) in CP2K.
2. Run the following command:
    ```bash
    python3 /path/to/gth2upf.py input.json
    ```
    It generates ".upf" pseudopotential file with the intermediate CP2K input (".inp") and output (".out") files in current directory.

3. If you also want to generate ".orb" file of this element, set the following infomation to the "input.json" file:
    ```json
    {
        "cp2k_path": "/home/pkgs/cp2k", 
        "element": "H",
        "basis_type": "DZVP",
        "basis_rcut": 14
    }
    ```
    and then run:
    ```bash
    python3  /path/to/genorb.py input.json
    ```